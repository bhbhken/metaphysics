[TOC]

# Redis什么业务场景下会阻塞

## 1.阻塞的业务场景

### 1.1 内部原因

- Redis 的 API 或者指令数据结构使用不合理
- Redis 主机 CPU 负载过高，导致系统崩溃
- 持久化工作资源占用过多

### 1.2 外部原因

- CPU 竞争
- 内存交换
- 网络问题

## 2.怎么快速定位redis的阻塞问题

### 2.1通过应用服务监控发现

当 Redis 阻塞的时候，线上应用服务应该会感知发现。比如说发现 Redis 连接超时等。这种就需要应用服务增加对于异常的统计，并针对 Redis 相关的异常，进行报警。

### 2.2 通过 Redis 自身监控系统

借助 Redis 监控系统发现阻塞问题，当监控系统发现各个监控指标存在异常的时候，发送报警。 指标有：CPU/内存/磁盘等， 慢查询，命令耗时增加等。